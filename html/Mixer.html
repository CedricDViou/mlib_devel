<!-- start content -->
			<p><b>Block:</b> Mixer (<code>mixer</code>)<br />
<b>Block Author</b>: Aaron Parsons<br />
<b>Document Author</b>: Aaron Parsons, Ben Blackman<br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Summary"><span class="tocnumber">1</span> <span class="toctext">Summary</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Mask_Parameters"><span class="tocnumber">2</span> <span class="toctext">Mask Parameters</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Ports"><span class="tocnumber">3</span> <span class="toctext">Ports</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Description"><span class="tocnumber">4</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Usage"><span class="tocnumber">4.1</span> <span class="toctext">Usage</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script>if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<h2> <span class="mw-headline" id="Summary"> Summary </span></h2>
<p>Digitally mixes an input signal (which can be several samples in parallel) with an LO of the indicated frequency (which is some fraction of the native FPGA clock rate).
</p>
<h2> <span class="mw-headline" id="Mask_Parameters"> Mask Parameters </span></h2>
<table width="500" border="1" cellpadding="3">
<tr>
<th> Parameter
</th><th> Variable
</th><th> Description
</th></tr>
<tr>
<td> Frequency Divisions
</td><td> freq_div
</td><td> The (power of 2) denominator of the mixing frequency.
</td></tr>
<tr>
<td> Mixing Frequency
</td><td> freq
</td><td> The numerator of the mixing frequency.
</td></tr>
<tr>
<td> Number of Parallel Streams
</td><td> nstreams
</td><td> The number of samples that arrive in parallel.
</td></tr>
<tr>
<td> Bit Width
</td><td> n_bits
</td><td> The bitwidth of LO samples.
</td></tr>
<tr>
<td> BRAM Latency
</td><td> bram_latency
</td><td> The latency of sin/cos lookup table.
</td></tr>
<tr>
<td> MULT Latency
</td><td> mult_latency
</td><td> The latency of mixing multipliers.
</td></tr>
</table>
<h2> <span class="mw-headline" id="Ports"> Ports </span></h2>
<table width="500" border="1" cellpadding="3">
<tr>
<th> Port
</th><th> Dir
</th><th> Data Type
</th><th> Description
</th></tr>
<tr>
<td> sync
</td><td> IN
</td><td> boolean
</td><td> Takes in an impulse the cycle before the <code>din</code>s are valid.
</td></tr>
<tr>
<td> dinX
</td><td> IN
</td><td> Fix_8_7
</td><td> Input X to be mixed and output on <code>realX</code> and <code>imagX</code>.
</td></tr>
<tr>
<td> sync_out
</td><td> OUT
</td><td> boolean
</td><td> This signal will be high the cycle before the data coming out is valid.
</td></tr>
<tr>
<td> realX
</td><td> OUT
</td><td> Fix_(n_bits)_(n_bits-1)
</td><td> Real output of mixed <code>dinX</code>.
</td></tr>
<tr>
<td> imagX
</td><td> OUT
</td><td> Fix_(n_bits)_(n_bits-1)
</td><td> Imaginary output of mixed <code>dinX</code>.
</td></tr>
</table>
<h2> <span class="mw-headline" id="Description"> Description </span></h2>
<h3> <span class="mw-headline" id="Usage"> Usage </span></h3>
<p><code>Mixer</code> mixes the incoming data and produces both real and imaginary outputs.
</p><p><span class="texhtml"><i>M</i></span> = Frequency Divisions<br />
<span class="texhtml"><i>F</i></span> = Mixing Frequency<br />
</p><p>M and F must both be integers, and M must be a power of 2. The ratio F/M should equal the ratio f/r where r is the data rate of the sampled signal. For example, an F/M of 3/16 would downmix an 800Msps signal with an LO of 150MHz.
</p>