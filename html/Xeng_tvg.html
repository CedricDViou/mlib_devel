<!-- start content -->
			<p><b>Block:</b> X-Engine TVG (<code>xeng_tvg</code>)<br />
<b>Block Author</b>: Jason Manley<br />
<b>Document Author</b>: Jason Manley<br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Summary"><span class="tocnumber">1</span> <span class="toctext">Summary</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Mask_Parameters"><span class="tocnumber">2</span> <span class="toctext">Mask Parameters</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Ports"><span class="tocnumber">3</span> <span class="toctext">Ports</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Description"><span class="tocnumber">4</span> <span class="toctext">Description</span></a></li>
</ul>
</td></tr></table><script>if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<h2> <span class="mw-headline" id="Summary"> Summary </span></h2>
<p>Basic test vector generator for CASPER X-engines.
</p>
<h2> <span class="mw-headline" id="Mask_Parameters"> Mask Parameters </span></h2>
<table width="500" border="1" cellpadding="3">
<tr>
<th> Parameter
</th><th> Variable
</th><th> Description
</th></tr>
<tr>
<td> Number of Antennas (<span class="texhtml">2<sup><i>n</i></sup></span>)
</td><td> ant_bits
</td><td> Bitwidth of the number of antennas in the system.
</td></tr>
<tr>
<td> Bitwidth of Samples in
</td><td> bits_in
</td><td> Bitwidth of component of the input.
</td></tr>
<tr>
<td> X integration length (<span class="texhtml">2<sup><i>n</i></sup></span>)
</td><td> x_int_bits
</td><td> Bitwidth of X-engine accumulation length.
</td></tr>
<tr>
<td> Sync Pulse Period (<span class="texhtml">2<sup><i>n</i></sup></span>)
</td><td> sync_period
</td><td> Bitwidth of number of valids between sync pulses.
</td></tr>
</table>
<h2> <span class="mw-headline" id="Ports"> Ports </span></h2>
<table width="500" border="1" cellpadding="3">
<tr>
<th> Port
</th><th> Dir
</th><th> Data Type
</th><th> Description
</th></tr>
<tr>
<td> tvg_sel
</td><td> in
</td><td> ufix_2_0
</td><td> TVG selection. 0=off (passthrough), 1-3=TVG select.
</td></tr>
<tr>
<td> data_in
</td><td> in
</td><td> inherited: bits_in*4
</td><td> Data in for passthrough.
</td></tr>
<tr>
<td> valid_in
</td><td> in
</td><td> boolean
</td><td> Valid in made available for passthrough.
</td></tr>
<tr>
<td> sync_in
</td><td> in
</td><td> boolean
</td><td> Sync in made available for passthrough.
</td></tr>
<tr>
<td> data_out
</td><td> out
</td><td> inherited: bits_in*4
</td><td>&nbsp;???
</td></tr>
<tr>
<td> sync_out
</td><td> out
</td><td> boolean
</td><td>&nbsp;???
</td></tr>
<tr>
<td> valid_out
</td><td> out
</td><td> boolean
</td><td>&nbsp;???
</td></tr>
</table>
<h2> <span class="mw-headline" id="Description"> Description </span></h2>
<p>This block generates data in a format suitable for input to a CASPER X-engine. The <code>tvg_sel</code> line selects the TVG. If set to zero, it is configured for passthrough and all input signals are propagated to the output (TVG is off). Values one through three select a TVG pattern. In this case, sync pulses are generated internally and valid data is output all the time. The three patterns are as follows:
</p>
<ol><li> Inserts a counter representing the antenna number. All real values count up from zero and imaginary values counting down from zero. ie., antenna four would have the value <span class="texhtml">4 &minus; 4<i>i</i></span> inserted.
</li><li> Inserts the same constant for all antennas: <span class="texhtml">Pol<sub>1<i>r</i><i>e</i><i>a</i><i>l</i></sub> = 0.125</span>, <span class="texhtml">Pol<sub>1<i>i</i><i>m</i><i>a</i><i>g</i></sub> =  &minus; 0.75</span>, <span class="texhtml">Pol<sub>2<i>r</i><i>e</i><i>a</i><i>l</i></sub> = 0.5</span> and <span class="texhtml">Pol<sub>2<i>i</i><i>m</i><i>a</i><i>g</i></sub> =  &minus; 0.25</span>
</li><li> User selectable values for each antenna. Input registers named <code>tv0</code> through <code>tv7</code> are input cyclically. Each value is input for <code>x_int_bits</code> clocks.
</li></ol>
